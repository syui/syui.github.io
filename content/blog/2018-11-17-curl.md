+++
date = "2018-11-17"
tags = ["curl"]
title = "画像URLから画像をダウンロードできない場合の対処法"
slug = "curl"
+++

自分の場合、画像を自動ダウンロードして、暇がある時に、定期的にチェックしたりしてるんだけど(みんなやってるよね)、この前、スクリプトが動いてなかったので、見てみた。

具体的には、nginxにある条件が追加されてて、意図としては、ブラウザでしか開けないようにしているんだろうというか、正確には、ダウンローダーのような直接、画像URLを取得して画像をダウンロードする的な行為を無効化したいんだろうなとか思った。そういうときは、こんな感じで。

```sh
$ curl -sLO https://db.example.com/file/01.jpg -H "Referer: https://example.com"
```

