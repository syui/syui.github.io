+++
date = "2016-10-18"
tags =  ["memo"]
title = "16/10"
slug = "pokemon-go"
+++

## 16/10

実際にはもうあまり試していないのだけど、気になった情報を幾つか記載。

まず、一度でもROOT化した端末はRootを削除してもログインできなくなったという話を聞いたので、`flash boot.img`を試してみたほうが良いのでは?と思った。一度ルート化した端末ではログインできなくなるというのは多分間違った情報だと思う。「一旦完全にRootアンインストールしてから」という英語を読み間違えたのではないかなと。

次に、`/su/su.d/99venom`で`SELinux`の有効無効について設定されているものを見かけたので、少しだけ言及。

まず、Androidの`/su/su.d/`というのはBoot段階で前から順番に実行される仕組みで01が最初に、99が最後に実行されるという感じになると思われる。

ここで、06にて以下のスクリプトを追加する方法が書かれていたけど、今度は最後に`setenforce 1`を実行する方法が載ってた。

なので、ファイルは以下のような感じになると思われる。

> /su/su.d/06suhide

```bash
#!/su/bin/sush
mount -o rw,remount rootfs /
chmod 0751 /
mount -o ro,remount rootfs /
```

> /su/su.d/99venom

```bash
setenforce 1
```

`chmod 0700 $file`も忘れずに。あと、06はアップデートファイル名とかぶると思われるので、将来的にsuhide v06が来てアップデートする場合、削除する必要がありそう。その辺考慮したインストールスクリプトが書かれるのであれば話は別だけど。

まあ、こんな感じで。

実際は試してないけど、全体の手順は非常に面倒で、Root系すべて削除するかデフォルトのboot.imgをflashするかした後に、recoveryで`echo 'SYSTEMLESS=true' > /data/.supersu`した後にsupersu, suhideをインストール後、再起動してxposedをインストールするらしい。で`/su/su.d`に幾つかのスクリプトを追加して再起動という感じだと思われます(Root Switcherを使わない場合)。

## 追記

試してみましたところいけました。
		
