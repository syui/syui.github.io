+++
date = "2019-10-21"
tags = ["macbook"]
title = "macbook airのバッテリー交換"
slug = "macbook"
+++

macbook airは2012のものでarchlinuxを入れて使ってますが、ある日、突然起動しなくなりました。これはバッテリーが原因で、バッテリーを外すと、起動します。

以下、バッテリー交換した時の状況をまとめます。

- archのバッテリー関係のドライバ、linux-kernelあたりに問題があって、ヘタってるバッテリーが充電できない感じだった。更に、電源からではなくバッテリーから接続しようとしてるので、起動しない。ここらへんの動作は、バッテリーの寿命にも影響した可能性。これは後で判明する

- そのバッテリーをmacに入れると、普通に充電できた。ただ、mac osはバッテリーを抜くと、普通にosが起動しなくなるのでよくない。また、交換時の挙動がすごく重くなっておかしくなったりした。どうやら起動時にバッテリー点検みたいな処理を入念に走らせてるんじゃないかと思ったりした

- とはいえ、バッテリー約1万くらいでせっかく買ったので、archlinuxに使ってみた

- しかし、macbook air(os:archlinux)、以前からフリーズとか電源落ちたりとかしたことがたまにあって、またそれが起こった。で、試しに交換したバッテリー抜いてみた。すると、フリーズも電源落ちもなくなったりした。どうやら電源周りの処理動作が不安定ぽい。で、今はバッテリー抜いて電源コードで使ってる

- 新しいバッテリーは、メインで使ってるmacbook air(os:mac)に使うことにした。古いバッテリー膨れてでかくなってたので、スマートになって嬉しい

なかなかややこしい状況でしたが、こんな感じでした。自分でもよくわかってないけど、今の所、動作は落ち着いてるので、よし！

