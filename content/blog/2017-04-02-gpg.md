+++
date = "2017-04-02"
tags = ["gpg"]
title = "gpg-keys-2"
slug = "gpg"
+++

GPGでの失敗談です。		

一つ目は`gpg send-keys`した後に、`search-keys`したのですが、その時、登録されていなかったみたいだったので、一度、その鍵を削除したあと、再度、searchしてみたら登録されてたという。これ、公開鍵を削除できないパターンなんじゃ...。

二つ目はGPG鍵を新しくしたので、古い鍵をGitHubから削除したのですが、過去のコミットがUnverifiedになってしまったという。

いや、ローカルでは古い鍵は秘密鍵を含め削除してるし。これ、公開鍵をGitHubに再登録できないパターンぽい。コミットをPushした時点でVerifiedであれば、ずっと同じVerifiedだと思ってたのだけど違ってたみたいだ。GitHubでは古い公開鍵も登録したままにしとかないと駄目だったぽい。

これは一応、GitHubに公開鍵を復元できないか問い合わせしてみた。ローカルには保存されてないし、他のサーバーにもアップしてなかったしで、割りとどうしようもなかった。公開鍵だけでもどっかネット上にアップロードしとけばよかった。

とりあえずバックアップの重要性を再認識した。

あと、macのgpgコマンド、なんか挙動がおかしい気がする。
		
