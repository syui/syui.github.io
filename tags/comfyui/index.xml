<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Comfyui on syui.github.io</title>
    <link>https://syui.github.io/tags/comfyui/</link>
    <description>Recent content in Comfyui on syui.github.io</description>
    <generator>Hugo</generator>
    <language>ja-jp</language>
    <copyright>&amp;copy; syui</copyright>
    <lastBuildDate>Mon, 24 Mar 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://syui.github.io/tags/comfyui/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>comfyui &#43; wan2.1で動画生成</title>
      <link>https://syui.github.io/blog/post/2025/03/24/comfyui/</link>
      <pubDate>Mon, 24 Mar 2025 00:00:00 +0000</pubDate>
      <guid>https://syui.github.io/blog/post/2025/03/24/comfyui/</guid>
      <description>&lt;p&gt;今回は、comfyui + wan2.1で動画生成してみます。cosmosよりもwan2.1のほうがいいです。&lt;/p&gt;&#xA;&lt;p&gt;また、comfyuiのことが色々わかってきました。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://blog.comfy.org/p/wan21-video-model-native-support&#34;&gt;https://blog.comfy.org/p/wan21-video-model-native-support&lt;/a&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;models&amp;#34;&lt;/span&gt;: {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;diffusion_models&amp;#34;&lt;/span&gt;: {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/blob/main/split_files/diffusion_models/wan2.1_i2v_720p_14B_fp8_scaled.safetensors&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        },&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;text_encoders&amp;#34;&lt;/span&gt;: {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        },&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;clip_vision&amp;#34;&lt;/span&gt;: {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        },&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;vae&amp;#34;&lt;/span&gt;: {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ curl -sLO &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/example%20workflows_Wan2.1/image_to_video_wan_720p_example.json&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;生成された動画はこちら。時間は30分ほどかかりました。&lt;/p&gt;&#xA;&lt;img src=&#34;https://raw.githubusercontent.com/syui/img/master/other/comfyui_output_1.webp&#34; width=&#34;600px&#34;&gt;&#xA;&lt;h2 id=&#34;わかってきたこと&#34;&gt;わかってきたこと&lt;/h2&gt;&#xA;&lt;p&gt;docsはこちらが非常にわかりやすいです。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://docs.comfy.org/&#34;&gt;https://docs.comfy.org/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;開発者が交流しているmatrixがあります。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://app.element.io/#/room/#comfyui_space:matrix.org&#34;&gt;https://app.element.io/#/room/#comfyui_space:matrix.org&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;workflowのjsonは&lt;a href=&#34;https://openart.ai/workflows/home&#34;&gt;openart.ai&lt;/a&gt;から持ってこれます。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://openart.ai/&#34;&gt;https://openart.ai/&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>comfyui &#43; cosmosで動画生成</title>
      <link>https://syui.github.io/blog/post/2025/03/23/comfyui/</link>
      <pubDate>Sun, 23 Mar 2025 00:00:00 +0000</pubDate>
      <guid>https://syui.github.io/blog/post/2025/03/23/comfyui/</guid>
      <description>&lt;p&gt;今回は、comfyui + cosmosで動画生成してみます。&lt;/p&gt;&#xA;&lt;p&gt;生成する動画は、ollamaでpromptを書き、ue5で作ったゲームプレイ動画を参照してみても面白いかもしれないと思いました。&lt;/p&gt;&#xA;&lt;h2 id=&#34;comfyuiのinstall&#34;&gt;comfyuiのinstall&lt;/h2&gt;&#xA;&lt;p&gt;installは&lt;code&gt;git clone&lt;/code&gt;から構築したほうがいいです。windowsで構築します。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/comfyanonymous/comfyui&#34;&gt;https://github.com/comfyanonymous/comfyui&lt;/a&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ winget install nvidia.cuda&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ winget install python.python.3.12&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git clone https://github.com/comfyanonymous/comfyui&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cd comfyui&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ python -m venv venv&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ Set-ExecutionPolicy RemoteSigned -Scope Process&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ venv&lt;span style=&#34;color:#ae81ff&#34;&gt;\S&lt;/span&gt;cripts&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;ctivate&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/cu128&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ python -m pip install --upgrade pip&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pip install -r requirements.txt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ python main.py&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;http://localhost:8188&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;comfyuiはnodeで書きますが&lt;code&gt;workflow&lt;/code&gt;と呼ぶようです。jsonで保存されます。簡単にimportできます。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://comfyanonymous.github.io/ComfyUI_examples/&#34;&gt;https://comfyanonymous.github.io/ComfyUI_examples/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;基本構造としては、以下のとおりです。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./comfyui&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;├── main.py&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;├── custom_nodes &lt;span style=&#34;color:#75715e&#34;&gt;# ここにpluginを入れる&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│   └── comfyui-manager&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;└── models&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    └── checkpoints &lt;span style=&#34;color:#75715e&#34;&gt;# ここにmodelを入れる&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        └── model.safetensors&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/ltdrdata/comfyui-manager&#34;&gt;https://github.com/ltdrdata/comfyui-manager&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/ltdrdata/comfyui-impact-pack&#34;&gt;https://github.com/ltdrdata/comfyui-impact-pack&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;img src=&#34;https://raw.githubusercontent.com/syui/img/master/other/comfyui_output_1.png&#34; width=&#34;600px&#34;&gt;&#xA;&lt;h2 id=&#34;cosmosで動画生成&#34;&gt;cosmosで動画生成&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://comfyanonymous.github.io/ComfyUI_examples/cosmos/&#34;&gt;https://comfyanonymous.github.io/ComfyUI_examples/cosmos/&lt;/a&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
